!function(o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e,t,r=(function(e,t){e.exports=function(r){function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var o={};return n.m=r,n.c=o,n.p="",n(0)}([function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return n(o).default}});var i=r(2);Object.defineProperty(t,"adjustCaretPosition",{enumerable:!0,get:function(){return n(i).default}});var a=r(5);Object.defineProperty(t,"createTextMaskInputElement",{enumerable:!0,get:function(){return n(a).default}})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.previousConformedValue,r=void 0===t?U:t,n=e.previousPlaceholder,o=void 0===n?U:n,i=e.currentCaretPosition,a=void 0===i?0:i,u=e.conformedValue,l=e.rawValue,s=e.placeholderChar,c=e.placeholder,f=e.indexesOfPipedChars,d=void 0===f?D:f,p=e.caretTrapIndexes,v=void 0===p?D:p;if(0===a||!l.length)return 0;var m=l.length,h=r.length,y=c.length,g=u.length,b=m-h,x=0<b,C=0===h;if(1<b&&!x&&!C)return a;var O=0,w=void 0,S=void 0;if(!x||r!==u&&u!==c){var _=u.toLowerCase(),T=l.toLowerCase().substr(0,a).split(U).filter(function(e){return-1!==_.indexOf(e)});S=T[T.length-1];var P=o.substr(0,T.length).split(U).filter(function(e){return e!==s}).length,k=c.substr(0,T.length).split(U).filter(function(e){return e!==s}).length!==P,E=void 0!==o[T.length-1]&&void 0!==c[T.length-2]&&o[T.length-1]!==s&&o[T.length-1]!==c[T.length-1]&&o[T.length-1]===c[T.length-2];!x&&(k||E)&&0<P&&-1<c.indexOf(S)&&void 0!==l[a]&&(w=!0,S=l[a]);for(var $=d.map(function(e){return _[e]}).filter(function(e){return e===S}).length,N=T.filter(function(e){return e===S}).length,V=c.substr(0,c.indexOf(s)).split(U).filter(function(e,t){return e===S&&l[t]!==e}).length+N+$+(w?1:0),F=0,M=0;M<g;M++){var j=_[M];if(O=M+1,j===S&&F++,V<=F)break}}else O=a-b;if(x){for(var I=O,A=O;A<=y;A++)if(c[A]===s&&(I=A),c[A]===s||-1!==v.indexOf(A)||A===y)return I}else if(w){for(var R=O-1;0<=R;R--)if(u[R]===S||-1!==v.indexOf(R)||0===R)return R}else for(var L=O;0<=L;L--)if(c[L-1]===s||-1!==v.indexOf(L)||0===L)return L};var D=[],U=""},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:B,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:q,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(0,U.isArray)(t)){if((void 0===t?"undefined":D(t))!==W.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,r),t=(0,U.processCaretTraps)(t).maskWithoutCaretTraps}var n=r.guide,o=void 0===n||n,i=r.previousConformedValue,a=void 0===i?B:i,u=r.placeholderChar,l=void 0===u?W.placeholderChar:u,s=r.placeholder,c=void 0===s?(0,U.convertMaskToPlaceholder)(t,l):s,f=r.currentCaretPosition,d=r.keepCharPositions,p=!1===o&&void 0!==a,v=e.length,m=a.length,h=c.length,y=t.length,g=v-m,b=0<g,x=f+(b?-g:0),C=x+Math.abs(g);if(!0===d&&!b){for(var O=B,w=x;w<C;w++)c[w]===l&&(O+=l);e=e.slice(0,x)+O+e.slice(x,v)}for(var S=e.split(B).map(function(e,t){return{char:e,isNew:x<=t&&t<C}}),_=v-1;0<=_;_--){var T=S[_].char;T!==l&&T===c[x<=_&&m===y?_-g:_]&&S.splice(_,1)}var P=B,k=!1;e:for(var E=0;E<h;E++){var $=c[E];if($===l){if(0<S.length)for(;0<S.length;){var N=S.shift(),V=N.char,F=N.isNew;if(V===l&&1!=p){P+=l;continue e}if(t[E].test(V)){if(!0===d&&!1!==F&&a!==B&&!1!==o&&b){for(var M=S.length,j=null,I=0;I<M;I++){var A=S[I];if(A.char!==l&&!1===A.isNew)break;if(A.char===l){j=I;break}}null!==j?(P+=V,S.splice(j,1)):E--}else P+=V;continue e}k=!0}0==p&&(P+=c.substr(E,h));break}P+=$}if(p&&0==b){for(var R=null,L=0;L<P.length;L++)c[L]===l&&(R=L);P=null!==R?P.substr(0,R+1):B}return{conformedValue:P,meta:{someCharsRejected:k}}};var U=r(4),W=r(1),q=[],B=""},function(e,t,r){function n(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o.placeholderChar;if(!n(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1===e.indexOf(t))return e.map(function(e){return e instanceof RegExp?t:e}).join("");throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e))},t.isArray=n,t.isString=function(e){return"string"==typeof e||e instanceof String},t.isNumber=function(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)},t.isNil=function(e){return null==e},t.processCaretTraps=function(e){for(var t=[],r=void 0;-1!==(r=e.indexOf(a));)t.push(r),e.splice(r,1);return{maskWithoutCaretTraps:e,indexes:t}};var o=r(1),i=[],a="[]"},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function N(e){if((0,I.isString)(e))return e;if((0,I.isNumber)(e))return String(e);if(null==e)return R;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var V=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=t[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(E){var $={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:$,update:function(e){var t,r,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:E,o=n.inputElement,i=n.mask,a=n.guide,u=n.pipe,l=n.placeholderChar,s=void 0===l?A.placeholderChar:l,c=n.keepCharPositions,f=void 0!==c&&c,d=n.showMask,p=void 0!==d&&d;if(void 0===e&&(e=o.value),e!==$.previousConformedValue){(void 0===i?"undefined":F(i))===D&&void 0!==i.pipe&&void 0!==i.mask&&(u=i.pipe,i=i.mask);var v=void 0,m=void 0;if(i instanceof Array&&(v=(0,I.convertMaskToPlaceholder)(i,s)),!1!==i){var h=N(e),y=o.selectionEnd,g=$.previousConformedValue,b=$.previousPlaceholder,x=void 0;if((void 0===i?"undefined":F(i))===A.strFunction){if(!1===(m=i(h,{currentCaretPosition:y,previousConformedValue:g,placeholderChar:s})))return;var C=(0,I.processCaretTraps)(m);m=C.maskWithoutCaretTraps,x=C.indexes,v=(0,I.convertMaskToPlaceholder)(m,s)}else m=i;var O={previousConformedValue:g,guide:a,placeholderChar:s,pipe:u,placeholder:v,currentCaretPosition:y,keepCharPositions:f},w=(0,j.default)(h,m,O).conformedValue,S=(void 0===u?"undefined":F(u))===A.strFunction,_={};S&&(!1===(_=u(w,V({rawValue:h},O)))?_={value:g,rejected:!0}:(0,I.isString)(_)&&(_={value:_}));var T=S?_.value:w,P=(0,M.default)({previousConformedValue:g,previousPlaceholder:b,conformedValue:T,placeholder:v,rawValue:h,currentCaretPosition:y,placeholderChar:s,indexesOfPipedChars:_.indexesOfPipedChars,caretTrapIndexes:x}),k=T===v&&0===P?p?v:R:T;$.previousConformedValue=k,$.previousPlaceholder=v,o.value!==k&&(o.value=k,t=o,r=P,document.activeElement===t&&(U?W(function(){return t.setSelectionRange(r,r,L)},0):t.setSelectionRange(r,r,L)))}}}}};var o=r(2),M=n(o),i=r(3),j=n(i),I=r(4),A=r(1),R="",L="none",D="object",U="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),W="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])}(e={exports:{}},e.exports),e.exports);(t=r)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")&&t.default;function h(e){return e.replace(/\D+/g,"")}function y(e,t){return t&&e.startsWith(t)?e.substr(t.length):e}function g(e,t){return t&&e.endsWith(t)?e.slice(0,-1*t.length):e}function u(e,t){void 0===t&&(t={});var r=t.prefix,n=t.suffix,o=t.thousandsSeparatorSymbol,i=t.decimalSymbol;if("number"==typeof e)return e;if(e&&"string"==typeof e){if(e.match(/^-?\d+(\.\d+)?$/))return Number(e);var a=e.startsWith("-");e=y(e,"-"),e=y(e,r);var u=(e=g(e,n)).split(i);if(2<u.length)return null;var l=u[0].replace(new RegExp("."===o?"\\.":o,"g"),"");if(l.length&&!l.match(/^\d+$/g))return null;var s=l;if(2===u.length){var c=u[1];if(c.length&&!c.match(/^\d+$/g))return null;s+="."+c}if(s)return a&&(s="-"+s),s=Number(s),Number.isNaN(s)?null:s}return null}function b(e){return e.split("").map(function(e){return n.test(e)?n:e})}var i=r.createTextMaskInputElement,a=(r.textMaskCore,{locale:void 0,currency:"EUR",distractionFree:!0,min:null,max:null,validateOnInput:!1}),n=/\d/;function l(e,t){var r=new Intl.NumberFormat(e,{style:"currency",currency:t}).format(1234),n=(r.match(/0/g)||[]).length,o=0<n?r.substr(r.indexOf("4")+1,1):null,i=null!==o;return{prefix:r.substring(0,r.indexOf("1")),suffix:r.substring(r.lastIndexOf(0<n?"0":"4")+1),thousandsSeparatorSymbol:r.substr(r.indexOf("1")+1,1),decimalSymbol:o,decimalLimit:n,allowDecimal:i}}var s={bind:function(e,t){var n=f(e,t.value);o.nextTick(function(){n.value&&d(n)}),n.addEventListener("input",function(){p(n)},{capture:!0}),n.addEventListener("format",function(e){var t=e.detail;n.$ci.focus||(p(n,t.value),n.dispatchEvent(new Event("format-complete")))}),n.addEventListener("focus",function(){var e=n.$ci,t=e.options,r=e.currencyFormatConfig;n.$ci.focus=!0,t.distractionFree&&setTimeout(function(){var e=v(n);p(n,u(n.value,r)),n.setSelectionRange(e,e)},0)}),n.addEventListener("blur",function(){n.$ci.focus=!1,d(n)})},componentUpdated:function(e,t){if(t.value&&c(t.oldValue,t.value)){var r=f(e,t.value);d(r,r.$ci.numberValue)}}},c=function(t,r){return Object.keys(a).some(function(e){return t[e]!==r[e]})},f=function(e,t){var r=e.matches("input")?e:e.querySelector("input");if(!r)throw new Error("The directive must be applied on an element consists of an input element");var n=Object.assign({},o.prototype.$CI_DEFAULT_OPTIONS||a,t);if(null!=n.min&&null!=n.max&&n.min>n.max)throw new Error("Invalid number range");return r.$ci=Object.assign({},r.$ci||{},{options:n,currencyFormatConfig:l(n.locale,n.currency),textMaskInputElement:i({inputElement:r,mask:[]})}),r},d=function(e,t){void 0===t&&(t=u(e.value,e.$ci.currencyFormatConfig)),null==t||e.$ci.currencyFormatConfig.allowDecimal||(t=Math.round(t)),p(e,t),e.dispatchEvent(new Event("input"))},p=function(e,t,r){void 0===t&&(t=e.value),void 0===r&&(r=e.$ci);var n=r.options,o=r.currencyFormatConfig,i=r.textMaskInputElement,a=r.focus&&n.distractionFree;"number"==typeof t&&(null!=n.min&&t<n.min&&(t=n.min),null!=n.max&&t>n.max&&(t=n.max),t=new Intl.NumberFormat(n.locale,{minimumFractionDigits:a?0:o.decimalLimit}).format(t),n.distractionFree&&(t+=" ")),i.update(t,{inputElement:e,pipe:function(e,t){var r=t.previousConformedValue;if(n.validateOnInput){if(null!=n.min&&u(e,o)<n.min)return r;if(null!=n.max&&u(e,o)>n.max)return r}return e},mask:function(e){void 0===e&&(e={});var u=e.prefix,l=e.suffix,s=e.thousandsSeparatorSymbol,c=e.allowDecimal,f=e.allowNegative,d=e.decimalSymbol,p=e.decimalLimit,v=u?u.length:0,m=l?l.length:0;return function(e){void 0===e&&(e="");var t,r,n=-1!==e.indexOf(d),o=e.startsWith("-")&&f;if(e=y(e,"-"),e=y(e,u),e=g(e,l),n&&c){var i=e.split(d);t=i[0],r=b(h(i[1]))}else t=e;t=(t=(t=h(t)).replace(/^0+(0$|[^0])/,"$1")).replace(/\B(?=(\d{3})+(?!\d))/g,s);var a=b(t);return n&&c&&(a.push("[]",d,"[]"),r&&("number"==typeof p&&(r=r.slice(0,p)),a=a.concat(r))),0<v&&(a=u.split("").concat(a)),o&&(a=[/-/].concat(a)),0<m&&(a=a.concat(l.split(""))),a}}(Object.assign({},o,{prefix:a?"":o.prefix,suffix:a?"":o.suffix,thousandsSeparatorSymbol:a?"":o.thousandsSeparatorSymbol,allowNegative:null===n.min&&null===n.max||n.min<0||n.max<0}))}),e.$ci.numberValue=u(e.value,o)},v=function(e,t){void 0===t&&(t=e.$ci.currencyFormatConfig);var r=t.prefix,n=t.thousandsSeparatorSymbol;return Math.max(0,e.selectionStart-r.length-(e.value.substring(0,e.selectionStart).match(new RegExp("."===n?"\\.":n,"g"))||[]).length)};var m=function(e,t,r,n,o,i,a,u,l,s){"boolean"!=typeof a&&(l=u,u=a,a=!1);var c,f="function"==typeof r?r.options:r;if(e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),n&&(f._scopeId=n),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},f._ssrRegister=c):t&&(c=a?function(){t.call(this,s(this.$root.$options.shadowRoot))}:function(e){t.call(this,u(e))}),c)if(f.functional){var d=f.render;f.render=function(e,t){return c.call(t),d(e,t)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,c):[c]}return r}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",e._g({directives:[{name:"currency",rawName:"v-currency",value:e.options,expression:"options"}],domProps:{value:e.formattedValue}},e.listeners()))},staticRenderFns:[]},void 0,{name:"CurrencyInput",directives:{currency:s},props:{value:{type:Number,default:null},locale:{type:String,default:void 0},currency:{type:String,default:void 0},distractionFree:{type:Boolean,default:void 0},min:{type:Number,default:void 0},max:{type:Number,default:void 0},validateOnInput:{type:Boolean,default:void 0}},data:function(){return{formattedValue:this.value}},computed:{options:function(){var t=this,r=Object.assign({},this.$CI_DEFAULT_OPTIONS||a);return Object.keys(r).forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),r},currencyFormatConfig:function(){return l(this.options.locale,this.options.currency)}},watch:{value:function(e){this.$el.dispatchEvent(new CustomEvent("format",{detail:{value:e}}))}},methods:{listeners:function(){var e=this;return Object.assign({},this.$listeners,{input:function(){return e.emitValue()},"format-complete":function(){return e.emitValue()}})},emitValue:function(){this.$emit("input",u(this.$el.value,this.currencyFormatConfig)),this.formattedValue=this.$el.value}}},void 0,!1,void 0,void 0,void 0),x={install:function(e,t){void 0===t&&(t={});var r=t.componentName;void 0===r&&(r=m.name);var n=t.directiveName;void 0===n&&(n="currency");var o=t.globalOptions;void 0===o&&(o={});var i=Object.assign({},a,o);e.prototype.$CI_DEFAULT_OPTIONS=i,e.component(r,m),e.directive(n,s),e.prototype.$parseCurrency=function(e,t,r){return void 0===t&&(t=i.locale),void 0===r&&(r=i.currency),u(e,l(t,r))}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(x)}(Vue);
